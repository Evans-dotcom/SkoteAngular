<div class="container-fluid dashboard-container">
  <div class="row">
    <div class="col-12">
      <div class="page-title-box d-flex align-items-center justify-content-between">
        <div>
          <h1 class="mb-0 font-weight-bold">Asset Management Dashboard</h1>
          <p class="text-muted mb-0">Welcome back, {{ currentUser?.username }}!</p>
        </div>
        <div class="page-title-right d-flex align-items-center gap-3">
          <div class="notification-icon-container position-relative">
            <button 
              class="btn btn-link text-dark position-relative" 
              data-bs-toggle="offcanvas" 
              data-bs-target="#notificationOffcanvas"
              title="Email Notifications">
              <i class="bx bx-bell font-size-24"></i>
              <span 
                class="badge bg-danger position-absolute top-0 start-100 translate-middle" 
                *ngIf="unreadNotificationCount > 0">
                {{ unreadNotificationCount }}
              </span>
            </button>
          </div>
          <span class="badge bg-primary me-3 p-2">{{ currentUser?.role }}</span>
          <div class="avatar-sm">
            <span class="avatar-title rounded-circle bg-dark text-white font-size-16">
              {{ currentUser?.username?.charAt(0).toUpperCase() }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Admin Stats Cards -->
  <!-- <div class="row" *ngIf="isAdmin">
    <div class="col-xl-3 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">Pending Bank Accounts</p>
              <h4 class="mb-0">{{ pendingCount }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-warning">
                <span class="avatar-title">
                  <i class="bx bx-time-five font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">Approved Bank Accounts</p>
              <h4 class="mb-0">{{ approvedCount }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-success">
                <span class="avatar-title">
                  <i class="bx bx-check-circle font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">Rejected Bank Accounts</p>
              <h4 class="mb-0">{{ rejectedCount }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-danger">
                <span class="avatar-title">
                  <i class="bx bx-x-circle font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">Total Bank Accounts</p>
              <h4 class="mb-0">{{ totalCount }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-primary">
                <span class="avatar-title">
                  <i class="bx bx-wallet font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> -->

<!-- Recently Added Bank Accounts Section -->
<!-- Recently Added Bank Accounts Section -->
<div class="row">
  <div class="col-lg-12">
    <div class="card shadow border-start border-info border-4">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between mb-4">
          <h4 class="card-title text-info mb-0">
            <i class="bx bx-wallet me-2"></i>Bank Accounts Dashboard
            <span class="badge bg-info ms-2">{{ totalCount }}</span>
          </h4>
          <div class="d-flex gap-2">
            <button 
              class="btn btn-sm btn-outline-info" 
              (click)="refreshDashboard()"
              title="Refresh data">
              <i class="bx bx-refresh"></i> Refresh
            </button>
            <button 
              class="btn btn-sm btn-info" 
              routerLink="/ecommerce/banklist"
              title="View all bank accounts">
              <i class="bx bx-list-ul me-1"></i> View All
            </button>
          </div>
        </div>
        
        <!-- Statistics Cards -->
        <div class="row mb-4">
          <div class="col-xl-3 col-md-6">
            <div class="card stat-card border-start border-warning border-4">
              <div class="card-body">
                <div class="d-flex align-items-center">
                  <div class="flex-shrink-0">
                    <div class="avatar-sm rounded-circle bg-warning-subtle text-warning p-3">
                      <i class="bx bx-time-five fs-4"></i>
                    </div>
                  </div>
                  <div class="flex-grow-1 ms-3">
                    <h6 class="text-muted mb-1">Pending Accounts</h6>
                    <h3 class="mb-0 text-warning">{{ pendingCount }}</h3>
                    <p class="text-muted mb-0">Awaiting approval</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="col-xl-3 col-md-6">
            <div class="card stat-card border-start border-success border-4">
              <div class="card-body">
                <div class="d-flex align-items-center">
                  <div class="flex-shrink-0">
                    <div class="avatar-sm rounded-circle bg-success-subtle text-success p-3">
                      <i class="bx bx-check-circle fs-4"></i>
                    </div>
                  </div>
                  <div class="flex-grow-1 ms-3">
                    <h6 class="text-muted mb-1">Approved Accounts</h6>
                    <h3 class="mb-0 text-success">{{ approvedCount }}</h3>
                    <p class="text-muted mb-0">Active accounts</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="col-xl-3 col-md-6">
            <div class="card stat-card border-start border-danger border-4">
              <div class="card-body">
                <div class="d-flex align-items-center">
                  <div class="flex-shrink-0">
                    <div class="avatar-sm rounded-circle bg-danger-subtle text-danger p-3">
                      <i class="bx bx-x-circle fs-4"></i>
                    </div>
                  </div>
                  <div class="flex-grow-1 ms-3">
                    <h6 class="text-muted mb-1">Rejected Accounts</h6>
                    <h3 class="mb-0 text-danger">{{ rejectedCount }}</h3>
                    <p class="text-muted mb-0">Not approved</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="col-xl-3 col-md-6">
            <div class="card stat-card border-start border-primary border-4">
              <div class="card-body">
                <div class="d-flex align-items-center">
                  <div class="flex-shrink-0">
                    <div class="avatar-sm rounded-circle bg-primary-subtle text-primary p-3">
                      <i class="bx bx-money fs-4"></i>
                    </div>
                  </div>
                  <div class="flex-grow-1 ms-3">
                    <h6 class="text-muted mb-1">Total Balance</h6>
                    <h3 class="mb-0 text-primary">${{ adminStats.totalBalance | number: '1.2-2' }}</h3>
                    <p class="text-muted mb-0">Approved accounts</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Status Distribution Chart -->
        <div class="row mb-4" *ngIf="totalCount > 0">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-body">
                <h6 class="card-title mb-3">
                  <i class="bx bx-pie-chart-alt me-2"></i>Account Status Distribution
                </h6>
                <div class="row align-items-center">
                  <div class="col-md-8">
                    <div class="distribution-chart">
                      <div class="d-flex align-items-center mb-2">
                        <div class="progress flex-grow-1" style="height: 25px;">
                          <div 
                            class="progress-bar bg-warning" 
                            role="progressbar" 
                            [style.width]="(pendingCount / totalCount * 100) + '%'"
                            [attr.aria-valuenow]="pendingCount"
                            aria-valuemin="0"
                            [attr.aria-valuemax]="totalCount">
                            {{ pendingCount }} Pending
                          </div>
                          <div 
                            class="progress-bar bg-success" 
                            role="progressbar" 
                            [style.width]="(approvedCount / totalCount * 100) + '%'"
                            [attr.aria-valuenow]="approvedCount"
                            aria-valuemin="0"
                            [attr.aria-valuemax]="totalCount">
                            {{ approvedCount }} Approved
                          </div>
                          <div 
                            class="progress-bar bg-danger" 
                            role="progressbar" 
                            [style.width]="(rejectedCount / totalCount * 100) + '%'"
                            [attr.aria-valuenow]="rejectedCount"
                            aria-valuemin="0"
                            [attr.aria-valuemax]="totalCount">
                            {{ rejectedCount }} Rejected
                          </div>
                        </div>
                      </div>
                      <div class="d-flex justify-content-between">
                        <small class="text-muted">{{ (pendingCount / totalCount * 100).toFixed(1) }}% Pending</small>
                        <small class="text-muted">{{ (approvedCount / totalCount * 100).toFixed(1) }}% Approved</small>
                        <small class="text-muted">{{ (rejectedCount / totalCount * 100).toFixed(1) }}% Rejected</small>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="text-center">
                      <div class="display-4 text-info">{{ totalCount }}</div>
                      <p class="text-muted mb-0">Total Bank Accounts</p>
                      <small class="text-muted">Across all departments</small>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Recent Bank Accounts Table -->
        <div class="card shadow-sm mb-4">
          <div class="card-header bg-transparent border-0">
            <h5 class="card-title mb-0">
              <i class="bx bx-history me-2"></i>Recently Added Accounts
            </h5>
          </div>
          <div class="card-body p-0">
            <div *ngIf="recentBankAccounts.length === 0" class="alert alert-info m-3">
              <i class="bx bx-info-circle me-2"></i>No bank accounts available yet.
              <button class="btn btn-sm btn-outline-info ms-2" routerLink="/ecommerce/bank-account">
                <i class="bx bx-plus"></i> Add First Account
              </button>
            </div>

            <div class="table-responsive" *ngIf="recentBankAccounts.length > 0">
              <table class="table table-hover align-middle mb-0">
                <thead class="table-light">
                  <tr>
                    <th width="80">ID</th>
                    <th>Bank</th>
                    <th>Account Details</th>
                    <th>Department</th>
                    <th>Status</th>
                    <th *ngIf="isAdmin">Quick Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let account of recentBankAccounts" 
                      class="clickable-row"
                      (click)="viewBankAccountDetails(account)">
                    <td>
                      <span class="badge bg-light text-dark">#{{ account.id }}</span>
                    </td>
                    <td>
                      <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                          <i class="bx bx-bank text-primary fs-5"></i>
                        </div>
                        <div class="flex-grow-1 ms-2">
                          <h6 class="mb-0">{{ account.bankName  }}</h6>
                          <small class="text-muted">{{ account.accountType }}</small>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div>
                        <strong class="d-block">{{ account.accountNumber }}</strong>
                        <small class="text-muted">{{ account.accountName }}</small>
                      </div>
                    </td>
                    <td>
                      <div>
                        <span class="badge bg-secondary">{{ account.department }}</span>
                        <div>
                          <small class="text-muted">{{ account.departmentUnit }}</small>
                        </div>
                        <div *ngIf="account.requestedBy">
                          <small class="text-info">
                            <i class="bx bx-user me-1"></i>{{ account.requestedBy }}
                          </small>
                        </div>
                      </div>
                    </td>
                    <td>
                      <span 
                        class="badge" 
                        [ngClass]="getStatusBadgeClass(account.status)">
                        <i class="bx" 
                           [class.bx-check]="account.status === 'Approved'"
                           [class.bx-x]="account.status === 'Rejected'"
                           [class.bx-time]="account.status === 'Open' || account.status === 'Pending'"></i>
                        {{ account.status }}
                      </span>
                      <div *ngIf="account.requestedAt" class="mt-1">
                        <small class="text-muted">
                          {{ account.requestedAt | date: 'shortDate' }}
                        </small>
                      </div>
                    </td>
                    <td *ngIf="isAdmin" (click)="$event.stopPropagation()">
                      <div class="d-flex flex-column gap-1">
                        <button 
                          *ngIf="account.status === 'Open'"
                          class="btn btn-success btn-sm" 
                          (click)="approveBankAccount(account)" 
                          title="Approve">
                          <i class="bx bx-check"></i> Approve
                        </button>
                        <button 
                          *ngIf="account.status === 'Open'"
                          class="btn btn-danger btn-sm" 
                          (click)="rejectBankAccount(account)" 
                          title="Reject">
                          <i class="bx bx-x"></i> Reject
                        </button>
                        <button 
                          *ngIf="account.status !== 'Open'"
                          class="btn btn-outline-primary btn-sm" 
                          (click)="viewBankAccountDetails(account)" 
                          title="View Details">
                          <i class="bx bx-show"></i> Details
                        </button>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Call to Action -->
        <div class="text-center mt-4">
          <div class="d-flex flex-wrap justify-content-center gap-3">
            <button 
              class="btn btn-info" 
              routerLink="/ecommerce/banklist">
              <i class="bx bx-list-ul me-1"></i> 
              View All Bank Accounts
            </button>
            <!-- <button 
              class="btn btn-outline-primary" 
              routerLink="/ecommerce/bank-account">
              <i class="bx bx-plus me-1"></i> 
              Add New Account
            </button> -->
            <button 
              *ngIf="isAdmin && pendingCount > 0"
              class="btn btn-warning" 
              routerLink="/ecommerce/banklist"
              [queryParams]="{status: 'pending'}">
              <i class="bx bx-task me-1"></i> 
              Review Pending ({{ pendingCount }})
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- Manager Stats -->
  <div class="row" *ngIf="isManager">
    <div class="col-xl-3 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">Department Assets</p>
              <h4 class="mb-0">{{ managerStats.departmentAssets }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-success">
                <span class="avatar-title">
                  <i class="bx bx-archive font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">Assigned Users</p>
              <h4 class="mb-0">{{ managerStats.assignedUsers }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-success">
                <span class="avatar-title">
                  <i class="bx bx-group font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">Pending Requests</p>
              <h4 class="mb-0">{{ managerStats.pendingRequests }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-success">
                <span class="avatar-title">
                  <i class="bx bx-time font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">Monthly Budget</p>
              <h4 class="mb-0">${{ managerStats.monthlyBudget | number }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-success">
                <span class="avatar-title">
                  <i class="bx bx-dollar-circle font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- User Stats -->
  <div class="row" *ngIf="isUser">
    <div class="col-xl-4 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">My Bank Accounts</p>
              <h4 class="mb-0">{{ userStats.myBankAccounts }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-info">
                <span class="avatar-title">
                  <i class="bx bx-wallet font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-4 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">My Assets</p>
              <h4 class="mb-0">{{ userStats.myAssets }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-info">
                <span class="avatar-title">
                  <i class="bx bx-archive-in font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-4 col-md-6">
      <div class="card mini-stats-wid">
        <div class="card-body">
          <div class="d-flex">
            <div class="flex-grow-1">
              <p class="text-muted fw-medium">Total Balance</p>
              <h4 class="mb-0">{{ userStats.totalBalance | number }}</h4>
            </div>
            <div class="flex-shrink-0 align-self-center">
              <div class="mini-stat-icon avatar-sm rounded-circle bg-info">
                <span class="avatar-title">
                  <i class="bx bx-dollar font-size-24"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- User Transactions -->
  <div class="row" *ngIf="isUser">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title mb-4">My Recent Transactions</h4>
          <div class="table-responsive">
            <table class="table align-middle table-nowrap mb-0">
              <thead class="table-light">
                <tr>
                  <th>Account</th>
                  <th>Transaction Type</th>
                  <th>Amount</th>
                  <th>Date</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let transaction of userTransactions">
                  <td>{{ transaction.account }}</td>
                  <td>{{ transaction.type }}</td>
                  <td>${{ transaction.amount | number }}</td>
                  <td>{{ transaction.date }}</td>
                  <td>
                    <span 
                      class="badge"
                      [ngClass]="{
                        'bg-success': transaction.status === 'Completed',
                        'bg-warning': transaction.status === 'Pending'
                      }">
                      {{ transaction.status }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Asset Tracking -->
  <div class="row">
    <div class="col-12">
      <div class="card tracking-card">
        <div class="card-body">
          <h3 class="card-title">Asset Tracking</h3>
          
          <div class="asset-categories">
            <div class="category-group">
              <h5>Financial Assets</h5>
              <div class="category-items">
                <div class="category-item"   routerLink="/ecommerce/banklist" style="cursor: pointer;">
                  <i class="fas fa-home"></i>
                  <span>Bank Accounts</span>
                </div>
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-chart-line"></i>
                  <span>Investments</span>
                </div>
              </div>
            </div>
            
            <div class="category-group">
              <h5>Physical Assets</h5>
              <div class="category-items">
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-laptop"></i>
                  <span>Standard Assets</span>
                </div>
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-cogs"></i>
                  <span>Plant/Machinery</span>
                </div>
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-car"></i>
                  <span>Motor Vehicles</span>
                </div>
              </div>
            </div>
            
            <div class="category-group">
              <h5>Property</h5>
              <div class="category-items">
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-map-marker-alt"></i>
                  <span>Land Register</span>
                </div>
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-building"></i>
                  <span>Buildings</span>
                </div>
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-road"></i>
                  <span>Roads Infrastructure</span>
                </div>
              </div>
            </div>
            
            <div class="category-group">
              <h5>Office Assets</h5>
              <div class="category-items">
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-desktop"></i>
                  <span>Office Equipment</span>
                </div>
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-couch"></i>
                  <span>Furniture/Fittings</span>
                </div>
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-microchip"></i>
                  <span>ICT Equipment</span>
                </div>
              </div>
            </div>
            
            <div class="category-group">
              <h5>Other</h5>
              <div class="category-items">
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-file-contract"></i>
                  <span>Lease</span>
                </div>
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-tasks"></i>
                  <span>Work-In Progress</span>
                </div>
                <div class="category-item" style="cursor: pointer;">
                  <i class="fas fa-warehouse"></i>
                  <span>Stock Register</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Email Notifications Offcanvas -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="notificationOffcanvas" aria-labelledby="notificationOffcanvasLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="notificationOffcanvasLabel">
      <i class="bx bx-bell me-2"></i>Email Notifications
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body p-0">
    <app-email-notification-panel></app-email-notification-panel>
  </div>
</div>

<!-- Bank Account Details Modal -->
<div class="modal fade" id="bankAccountDetailsModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Bank Account Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body" *ngIf="selectedBankAccount">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Bank Name:</label>
            <p>{{ selectedBankAccount.bankName }}</p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Account Number:</label>
            <p>{{ selectedBankAccount.accountNumber }}</p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Account Name:</label>
            <p>{{ selectedBankAccount.accountName }}</p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Account Type:</label>
            <p>{{ selectedBankAccount.accountType }}</p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Department:</label>
            <p>{{ selectedBankAccount.department }}</p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Department Unit:</label>
            <p>{{ selectedBankAccount.departmentUnit }}</p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Officer In Charge:</label>
            <p>{{ selectedBankAccount.officerInCharge }}</p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Signatories:</label>
            <p>{{ selectedBankAccount.signatories }}</p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Opening Balance:</label>
            <p>${{ selectedBankAccount.openingBalance | number: '1.2-2' }}</p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Status:</label>
            <p>
              <span 
                class="badge" 
                [ngClass]="getStatusBadgeClass(selectedBankAccount.status)">
                {{ selectedBankAccount.status }}
              </span>
            </p>
          </div>
          <div class="col-md-6 mb-3">
            <label class="fw-bold text-muted">Requested By:</label>
            <p>{{ selectedBankAccount.requestedBy }}</p>
          </div>
          <div class="col-md-12 mb-3" *ngIf="selectedBankAccount.remarks">
            <label class="fw-bold text-muted">Remarks:</label>
            <p>{{ selectedBankAccount.remarks }}</p>
          </div>
        </div>
      </div>
      <div class="modal-footer" *ngIf="selectedBankAccount && selectedBankAccount.status === 'Open' && isAdmin">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger me-2" (click)="rejectBankAccount(selectedBankAccount!)">
          <i class="bx bx-x me-1"></i> Reject
        </button>
        <button type="button" class="btn btn-success" (click)="approveBankAccount(selectedBankAccount!)">
          <i class="bx bx-check me-1"></i> Approve
        </button>
      </div>
      <div class="modal-footer" *ngIf="!selectedBankAccount || selectedBankAccount.status !== 'Open' || !isAdmin">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>